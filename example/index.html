<!DOCTYPE html>
<html>
<head>
    <title>JUCE Audio Processor Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #1a1a1a;
            color: white;
        }
        .control {
            margin: 10px 0;
        }
        label {
            display: inline-block;
            width: 150px;
        }
        input[type="range"] {
            width: 200px;
        }
        button {
            background: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #45a049;
        }
    </style>
</head>
<body>
    <h1>JUCE Audio Processor Demo</h1>
    <p>This demo shows the JUCE Audio Processor running in Electron.</p>
    
    <div class="control">
        <label>Volume:</label>
        <input type="range" id="volume" min="0" max="1" step="0.01" value="0.8">
        <span id="volumeValue">0.8</span>
    </div>
    
    <div class="control">
        <label>Flanger:</label>
        <button id="flangerToggle">Enable</button>
        <input type="range" id="flangerRate" min="0" max="1" step="0.01" value="0.5">
        <input type="range" id="flangerDepth" min="0" max="1" step="0.01" value="0.3">
    </div>
    
    <div class="control">
        <label>Filter Cutoff:</label>
        <input type="range" id="filterCutoff" min="100" max="5000" step="10" value="1000">
        <span id="cutoffValue">1000 Hz</span>
    </div>
    
    <div class="control">
        <label>Pitch Bend:</label>
        <input type="range" id="pitchBend" min="-12" max="12" step="0.1" value="0">
        <span id="pitchValue">0 semitones</span>
    </div>
    
    <script>
        const { remote } = require('electron');
        const audioProcessor = remote.getGlobal('audioProcessor');
        
        // Volume control
        const volumeSlider = document.getElementById('volume');
        const volumeValue = document.getElementById('volumeValue');
        
        volumeSlider.addEventListener('input', (e) => {
            const value = parseFloat(e.target.value);
            volumeValue.textContent = value.toFixed(2);
            audioProcessor.setVolume(value);
        });
        
        // Flanger controls
        const flangerToggle = document.getElementById('flangerToggle');
        const flangerRate = document.getElementById('flangerRate');
        const flangerDepth = document.getElementById('flangerDepth');
        let flangerEnabled = false;
        
        flangerToggle.addEventListener('click', () => {
            flangerEnabled = !flangerEnabled;
            flangerToggle.textContent = flangerEnabled ? 'Disable' : 'Enable';
            audioProcessor.setFlangerEnabled(flangerEnabled);
        });
        
        flangerRate.addEventListener('input', (e) => {
            audioProcessor.setFlangerRate(parseFloat(e.target.value));
        });
        
        flangerDepth.addEventListener('input', (e) => {
            audioProcessor.setFlangerDepth(parseFloat(e.target.value));
        });
        
        // Filter controls
        const filterCutoff = document.getElementById('filterCutoff');
        const cutoffValue = document.getElementById('cutoffValue');
        
        filterCutoff.addEventListener('input', (e) => {
            const value = parseInt(e.target.value);
            cutoffValue.textContent = value + ' Hz';
            audioProcessor.setFilterCutoff(value);
        });
        
        // Pitch bend control
        const pitchBend = document.getElementById('pitchBend');
        const pitchValue = document.getElementById('pitchValue');
        
        pitchBend.addEventListener('input', (e) => {
            const value = parseFloat(e.target.value);
            pitchValue.textContent = value.toFixed(1) + ' semitones';
            audioProcessor.setPitchBend(value);
        });
    </script>
</body>
</html>
